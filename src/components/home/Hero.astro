---
import { getCollection } from 'astro:content';

const meta = await getCollection('meta');
const profile = meta[0]?.data;

const name = profile?.name || 'Digital Biome';
const title = profile?.title || 'Personal Site';
const bio = profile?.bio;
const avatar = profile?.avatar;
---

<section class="hero">
  {avatar && (
    <img src={avatar} alt={name} class="avatar" />
  )}
  
  <div class="hero-content">
    <h1 class="name">{name}</h1>
    <p class="title">{title}</p>
    {bio && <p class="bio">{bio}</p>}
    
    {profile?.contact && (
      <div class="contact-links">
        {profile.contact.email && (
          <a href={`mailto:${profile.contact.email}`} class="contact-link">
            üìß Email
          </a>
        )}
        {profile.contact.github && (
          <a href={`https://${profile.contact.github}`} class="contact-link" target="_blank" rel="noopener">
            üêô GitHub
          </a>
        )}
        {profile.contact.linkedin && (
          <a href={`https://${profile.contact.linkedin}`} class="contact-link" target="_blank" rel="noopener">
            üíº LinkedIn
          </a>
        )}
        {profile.contact.website && (
          <a href={profile.contact.website} class="contact-link" target="_blank" rel="noopener">
            üåê Website
          </a>
        )}
      </div>
    )}
  </div>
</section>

<style>
  .hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 2rem 0;
  }

  .avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 1.5rem;
    border: 3px solid var(--accent-color, #0066cc);
  }

  .hero-content {
    max-width: 600px;
  }

  .name {
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    color: var(--text-primary, #333);
  }

  .title {
    font-size: 1.25rem;
    color: var(--accent-color, #0066cc);
    margin: 0 0 1rem 0;
    font-weight: 500;
  }

  .bio {
    font-size: 1rem;
    color: var(--text-secondary, #666);
    line-height: 1.6;
    margin: 0 0 1.5rem 0;
  }

  .contact-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.75rem;
  }

  .contact-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--card-bg, #f5f5f5);
    border-radius: 8px;
    text-decoration: none;
    color: var(--text-primary, #333);
    font-size: 0.9rem;
    transition: all 0.2s;
  }

  .contact-link:hover {
    background: var(--accent-color, #0066cc);
    color: #fff;
  }

  :global(html.dark) .contact-link {
    --card-bg: #2d2d4a;
  }
</style>
